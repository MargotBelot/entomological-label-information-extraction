name: entomological-label
channels:
  - conda-forge
  - defaults
dependencies:
  # Core Python - SECURITY: Standardized to 3.10 across all deployment methods
  - python=3.10

  # Core scientific stack
  - numpy>=1.26.0
  - pandas>=2.2.0
  - scipy>=1.11.0
  - matplotlib>=3.8.0
  - seaborn=0.13.2
  - scikit-learn>=1.4.0
  - scikit-image

  # Deep learning
  - tensorflow=2.15.0
  - keras=2.15.0

  # Image processing
  # opencv-python moved to pip section
  - pillow>=10.0.0
  - pyzbar
  - tesserocr
  - pytesseract=0.3.10
  # deskew moved to pip section

  # OCR & NLP
  - nltk=3.8.1
  - regex>=2023.12.0
  # editdistance replaced with Python's built-in difflib for Python 3.12 compatibility
  # jiwer moved to pip section

  # Web & API
  - flask=3.1.0
  - flask-cors=4.0.0
  - requests
  - python-dotenv

  # Visualization
  # plotly and kaleido moved to pip section

  # Google Cloud
  - google-cloud-vision=3.7.2

  # Utilities
  - pyopenssl
  - tqdm
  - gensim>=4.3.0

  # Documentation
  - sphinx=7.4.7
  # sphinx-rtd-theme moved to pip section

  # Dev & test tools (optional, comment out if not needed)
  - black
  - isort
  - flake8
  - mypy
  - pytest
  - pytest-cov
  - pre-commit

  # pip section for packages not available on conda
  - pip
  - pip:
      - detecto==1.2.2
      - cer==1.2.0
      - plotly-express==0.4.1
      - renku-sphinx-theme==0.4.0
      - tesseract==0.1.3
      - torch==2.2.2
      - torchvision==0.17.2
      - opencv-python==4.9.0.80
      - kaleido==0.2.1
      - jiwer==3.0.3
      - deskew==1.5.1
      - sphinx-rtd-theme==0.5.1
      - plotly==5.20.0

# To use:
#   conda env create -f environment.yml
#   conda activate entomological-label
#   pip install -e .
